<!DOCTYPE html>
<html>
	<head>
		<title>
			Today I Learned
		</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
		<link rel="stylesheet" href="https://dfoiler.github.io/css/main.css">
		<link rel="stylesheet" href="https://dfoiler.github.io/css/sidebar.css">
		<link rel="stylesheet" href="https://dfoiler.github.io/css/tex.css">
		<link rel=icon href="https://dfoiler.github.io/p.ico">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
		</script>
		<script src="https://dfoiler.github.io/js/mathjax-config.js">
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_SVG-full">
		</script>
	</head>
	<body>
		<h1 class="title">
			<a href="https://dfoiler.github.io/TIL/" class="title">
				Today I Learned
			</a>
		</h1>
		<div class="container">
			<div class="sidebar">
				<p style="text-align: center; font-weight: bold; margin-top: 5px;">
					Archive
				</p>
				<button class="yearmenu">
					2020
				</button>
				<ul class="monthmenu">
					<li>
						<a href="https://dfoiler.github.io/TIL/2020/9/">
							September 2020
						</a>
					</li>
					<li>
						<a href="https://dfoiler.github.io/TIL/2020/10/">
							October 2020
						</a>
					</li>
					<li>
						<a href="https://dfoiler.github.io/TIL/2020/11/">
							November 2020
						</a>
					</li>
					<li>
						<a href="https://dfoiler.github.io/TIL/2020/12/">
							December 2020
						</a>
					</li>
				</ul>
				<button class="yearmenu">
					2021
				</button>
				<ul class="monthmenu">
					<li>
						<a href="https://dfoiler.github.io/TIL/2021/1/">
							January 2021
						</a>
					</li>
					<li>
						<a href="https://dfoiler.github.io/TIL/2021/2/">
							February 2021
						</a>
					</li>
					<li>
						<a href="https://dfoiler.github.io/TIL/2021/3/">
							March 2021
						</a>
					</li>
				</ul>
			</div>
			<div class="content">
				<p class="mobilenav">
					<a href="../" class="link">
						(back up to November)
					</a>
				</p>
				<div class="entry">
					<h2>
						November 19th
					</h2>
					<p>
						Today I learned the group structure of the elements of norm $1$ in $\QQ(i),$ and some semblance of generalizations to number fields. What makes the mathematics possible (in the general case) is to not look at elements in $\QQ(i)$ but rather fractional ideals, and then we can use our very nice structure theorem for ideals under multiplication because of unique prime factorization.
					</p>
					<p>
						Before working in $\QQ(i),$ suppose we are in some more general extension of number fields $L/K$ with ring of integers $\mathcal O_K,$ and we are interested in fractional ideals with relative norm $\mathcal O_K.$ Well, fix one such ideal $I,$ and we have a prime factorization\[I=\prod_{\mf p\subseteq\mathcal O_K}\left(\prod_{\mf P/\mf p}\mf P^{\alpha_\mf P}\right),\]where we have arranged the primes of $\mathcal O_L$ according to their base prime in $\mathcal O_K.$ Taking norms, we see\[\op{Norm}(I)=\prod_{\mf p\subseteq\mathcal O_K}\left(\prod_{\mf P/\mf p}\op{Norm}_{L/K}(\mf P)^{\alpha_\mf P}\right)=\prod_{\mf p\subseteq\mathcal O_K}\left(\prod_{\mf P/\mf p}\mf p^{f(\mf P/\mf p)\alpha_\mf P}\right).\]This is an $\mathcal O_K$-fraction ideal because only finitely many of the $\alpha_\mf P$ are nonzero. For this to equal $\mathcal O_K,$ unique prime factorization of ideals in $\mathcal O_K$ tells us that each $\nu_\mf p$ factor in the above must be $0.$ Well, this is the same as saying\[\sum_{\mf P/\mf p}f(\mf P/\mf p)\alpha_\mf P=0\]for each prime $\mf p\subseteq\mathcal O_K.$ This doesn't necessarily give us great structure, but it has effectively turned the problem of finding fractional ideal with norm $\mathcal O_K$ into a combinatorics problem.
					</p>
					<p>
						As an example of when the combinatorics problem can be easy, if $L/K$ is Galois, then all of the $f(\mf P/\mf p)$ are equal. So we just need\[\sum_{\mf P/\mf p}\alpha_\mf P=0\]for each rational prime $p.$ For convenience, focus on some individual prime $\mf Q$ over $\mf p.$ Then we note that\[\alpha_\mf Q=\sum_{\substack{\mf P/\mf p\\\mf P\ne\mf Q}}-\alpha_\mf P.\]This lets us write the $\mf p$ part of our ideal $I$ as\[\prod_{\mf P/\mf p}\mf P^{\alpha_\mf P}=\prod_{\substack{\mf P/\mf p\\\mf P\ne\mf Q}}\left(\mf P\mf Q^{-1}\right)^{\alpha_\mf P}.\]In particular, the $\mf p$ part of $I$ is uniquely determined by all but one of the $\alpha_\mf P.$ So we may biject\[\left\{I:\op{Norm}_{L/K}(I)=\mathcal O_K\right\}\longleftrightarrow\left\{\{\alpha_\mf P\}_{\mf P/\mf p,\mf P\ne\mf Q}:\mf Q/\mf p\right\},\]where $\mf Q$ is a chosen prime over $\mf p.$ Of course, multiplying two ideals of norm $1$ corresponds to adding their $\alpha_\mf P$ sequences (check the prime factorization), and the fact that the norm must be preserved means the bijection still holds. In particular, the above is a homomorphism as well, so it is an isomorphism. Explicitly,\[\left\{I:\op{Norm}_{L/K}(I)=\mathcal O_K\right\}\cong\bigoplus_{\substack{\mf p\subseteq\mathcal O_K\\\text{fixed }\mf Q/\mf p}}\prod_{\substack{\mf P/p\\\mf P\ne\mf Q}}\left\langle\mf P\mf Q^{-1}\right\rangle\cong\bigoplus_{\mf p\subseteq\mathcal O_K}\ZZ^{r_\mf p-1},\]where $r_\mf p$ is the number of primes which $\mf p$ splits into in $\mathcal O_L.$ Here, each $\ZZ$ is generated by $\mf P\mf Q^{-1}$ as provided by the unique prime factorization of $I.$ This is a coproduct because only finitely many of the $\alpha_\mf P$ may be nonzero, so only finitely many of the $\alpha_\mf P$ sequences may be nonzero. And there are no nontrivial relations between the generators here by unique prime factorization of ideals&mdash;if we multiply out to get $\mathcal O_K,$ then all exponents had better be $0.$
					</p>
					<p>
						Only now do we return to looking at elements of norm $1$ in $K=\QQ(i).$ To transform this problem into one about ideals, we use the fact that $\mathcal O_K=\ZZ[i]$ is a principal ideal domain. In particular, as long as $\mathcal O_K$ is a principal ideal domain, there's an isomorphism between $K^\times/\mathcal O_K^\times$ and fractional ideals. We show this, we map $K^\times$ to fractional ideals by\[\alpha\mapsto(\alpha).\]Indeed, this is surjective, for a fractional ideal $I$ is $\frac1\alpha J$ for some integral ideal $J=(\beta),$ so $I=(\alpha/\beta).$ The kernel is the set of elements $u$ such that $(u)=\mathcal O_K,$ which requires $u\in\mathcal O_K$ but $u\mid1,$ which is the definition of $\mathcal O_K^\times.$
					</p>
					<p>
						Further, because $\op{Norm}((\alpha))=\op{Norm}(\alpha),$ this isomorphism preserves having norm $1.$ So we can identify elements of norm $1$ in $\QQ(i)$ by fractional ideals of norm $1,$ up to units. But $\QQ(i)/\QQ$ is Galois, so our fractional ideals of norm $1$ have structure\[\bigoplus_{\substack{p\equiv1\pmod4\\(p)=\mf p\overline{\mf p}}}\left\langle\mf p\overline{\mf p}^{-1}\right\rangle\cong\bigoplus_{p\equiv1\pmod4}\ZZ\]because only primes $p\equiv1\pmod4$ split into more than one prime in $\QQ(i).$ To make this more explicit, if $\mf p=(a+bi)$ and $\overline{\mf p}=(a-bi)$ are the primes over each $p\equiv1\pmod 4,$ then our $\ZZ$ is generated by\[\mf p\overline{\mf p}^{-1}=(a+bi)\left(\frac1{a-bi}\right)=\left(\frac{a^2-b^2}{a^2+b^2}+\frac{2ab}{a^2+b^2}i\right).\]So our fractional ideals of norm $1$ are isomorphic to\[\bigoplus_{\substack{p\equiv1\pmod4\\a^2+b^2=p}}\left\langle\frac{a^2-b^2}{a^2+b^2}+\frac{2ab}{a^2+b^2}i\right\rangle,\]where the isomorphism is just multiplication. Finally going back to elements, these ideals uniquely determine elements up to units, so we have to multiply an additional $\langle i\rangle$ to make up for it. So our structure is\[\langle i\rangle\oplus\bigoplus_{\substack{p\equiv1\pmod4\\a^2+b^2=p}}\left\langle\frac{a^2-b^2}{a^2+b^2}+\frac{2ab}{a^2+b^2}i\right\rangle\cong\ZZ/4\ZZ\oplus\bigoplus_{p\equiv1\pmod4}\ZZ,\]which is what we wanted. Similar arguments work for principal ideal domains coming from Galois extensions.
					</p>
				</div>
			</div>
		</div>
		<script src="https://dfoiler.github.io/js/sidebar.js">
		</script>
	</body>
</html>
